<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin ‚Äî Edit About</title>
<style>
:root {
  --bg: #faf9f7;
  --fg: #111;
  --accent: #6b3b2f;
  --radius: 12px;
  --padding: 1rem;
}
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:"Segoe UI", Arial, sans-serif; background: var(--bg); min-height:100vh; display:flex; flex-direction:column; }
header {
  background: linear-gradient(90deg,#000,var(--accent));
  color:#fff; 
  padding:1.5rem; 
  text-align:center; 
  font-size:1.3rem; 
  position:relative; 
}
.exit-btn {
  position: absolute;
  left: 1rem;
  top: 50%;
  transform: translateY(-50%);
  background:#fff;
  color:var(--accent);
  border:none;
  padding:6px 12px;
  border-radius:6px;
  cursor:pointer;
  font-weight:600;
}
main {
  flex:1; 
  max-width:700px; 
  margin:2rem auto; 
  background:#fff; 
  padding:2rem; 
  border-radius:var(--radius); 
  box-shadow:0 4px 12px rgba(0,0,0,0.1);
}

/* Form */
form { display:flex; flex-direction:column; gap:12px; }
input, textarea { padding:10px; border-radius:6px; border:1px solid #ccc; font-size:1rem; width:100%; }
textarea { resize: vertical; height:120px; }
button { padding:12px; border:none; border-radius:6px; background:var(--accent); color:#fff; cursor:pointer; font-size:1rem; transition:0.3s; }
button:hover { background:#81483a; }

/* Image preview */
#aboutPreview {
  width:250px; 
  height:160px; 
  object-fit:cover; 
  border-radius:6px; 
  margin-top:10px; 
  border:1px solid #ccc;
}

/* Loader */
#loader { position: fixed; top:0; left:0; width:100%; height:100%; background:#fff; display:flex; justify-content:center; align-items:center; z-index:5000; }
.loader-dots { display:flex; gap:10px; }
.loader-dots div { width:20px; height:20px; background: var(--accent); border-radius:50%; animation: bounce 0.6s infinite alternate; }
.loader-dots div:nth-child(2) { animation-delay:0.2s; }
.loader-dots div:nth-child(3) { animation-delay:0.4s; }
@keyframes bounce { 0%{transform:translateY(0);}50%{transform:translateY(-20px);}100%{transform:translateY(0);} }
</style>
</head>
<body>

<!-- Loader -->
<div id="loader">
  <div class="loader-dots"><div></div><div></div><div></div></div>
</div>

<header>
  üìù Edit About Section
  <button class="exit-btn" onclick="window.location.href='index.html'">Exit</button>
</header>

<main>
<form id="aboutForm">
  <label>Title (English):</label>
  <input type="text" id="titleEn" placeholder="Enter English title" required>

  <label>Title (Arabic):</label>
  <input type="text" id="titleAr" placeholder="Enter Arabic title" dir="rtl" required>

  <label>Content (English):</label>
  <textarea id="contentEn" placeholder="Enter English content"></textarea>

  <label>Content (Arabic):</label>
  <textarea id="contentAr" placeholder="Enter Arabic content" dir="rtl"></textarea>

  <label>About Image:</label>
  <button type="button" id="uploadBtn">Choose Image</button>
  <input type="file" id="aboutImageFile" accept="image/*" style="display:none;">
  <img id="aboutPreview" src="" alt="Image Preview">

  <button type="submit">Save</button>
</form>
</main>

<script>
// Loader fade
window.addEventListener('load', ()=> {
  const loader = document.getElementById('loader');
  setTimeout(()=>{ 
    loader.style.opacity=0; 
    setTimeout(()=>loader.style.display='none',500); 
  }, 1500);
});

// Image upload preview
const uploadBtn = document.getElementById('uploadBtn');
const aboutImageFile = document.getElementById('aboutImageFile');
const aboutPreview = document.getElementById('aboutPreview');

uploadBtn.addEventListener('click', ()=> aboutImageFile.click());
aboutImageFile.addEventListener('change', ()=> {
  const file = aboutImageFile.files[0];
  if(file){
    const reader = new FileReader();
    reader.onload = e=> aboutPreview.src = e.target.result;
    reader.readAsDataURL(file);
  }
});

// Load saved about info
const saved = JSON.parse(localStorage.getItem('aboutInfo'));
if(saved){
  document.getElementById('titleEn').value = saved.titleEn;
  document.getElementById('titleAr').value = saved.titleAr;
  document.getElementById('contentEn').value = saved.contentEn;
  document.getElementById('contentAr').value = saved.contentAr;
  aboutPreview.src = saved.image || '';
}

// Save about info
document.getElementById('aboutForm').addEventListener('submit', e=>{
  e.preventDefault();
  const info = {
    titleEn: document.getElementById('titleEn').value,
    titleAr: document.getElementById('titleAr').value,
    contentEn: document.getElementById('contentEn').value,
    contentAr: document.getElementById('contentAr').value,
    image: aboutPreview.src
  };
  localStorage.setItem('aboutInfo', JSON.stringify(info));
  alert('About section saved! Customers will see the updated info.');
});
</script>

</body>
</html>
